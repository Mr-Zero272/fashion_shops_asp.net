@model FashionShops.User
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
}

<div class="wrapper">
    <div class="inner">
        <div class="image-holder">
            <img class="img-login" src="~/Content/images/changepassword_bg.jpg" alt="">
        </div>
        @using (Html.BeginForm("Change", "ChangePassword", new { id = "form_change_password" }))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(model => model.user_id)
            <h3>Change Password</h3>
            <div class="form-holder active-login">
                @Html.EditorFor(model => model.password, new { htmlAttributes = new { @class = "form-control-login", placeholder = "Current password", name = "currentpassword", id = "currentpassword", type = "password" } })
                @Html.ValidationMessageFor(model => model.password, null, new { @style = "color: red; font-style: italic;" })
            </div>
            <div class="form-holder">
                @Html.EditorFor(model => model.newpassword, new { htmlAttributes = new { @class = "form-control-login", placeholder = "New password", name = "newpassword", id = "newpassword", type = "password" } })
                @Html.ValidationMessageFor(model => model.newpassword, null, new { @style = "color: red; font-style: italic;" })
            </div>
            @Html.ValidationSummary(true, null, new { @class = "font-italic", @style = "color: red" })
            <div class="form-login">
                <button type="submit" data-href="/Login/Check" class="button-login" id="btn-login">Change</button>
            </div>
        }
    </div>
</div>
<div id="changefail" hidden>@ViewBag.CurrentPassIncorrect</div>
@section ChangePassword {
    <link rel="stylesheet" type="text/css" href="~/Content/styles/main_styles.css">
    <link rel="stylesheet" type="text/css" href="~/Content/styles/responsive.css">
    <link rel="stylesheet" type="text/css" href="~/Content/styles/login.css">
    <script src="~/Content/js/Change.js"></script>
    <script>
        let messageA = $('#changefail').text();
        if (messageA !== "") {
            toastr.error(messageA);
        }
    </script>
}



